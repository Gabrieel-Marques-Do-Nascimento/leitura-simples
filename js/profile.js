import{loadText_Cache_json as e,url as n,token_name as o,id_name as t}from"./global.js";import{getConfig as i}from"./env-config.js";console.log("Carregando...");const r=e(o,null),l=e(t,null);if(null==r||null==l)console.log("Usuário não encontrado. Redirecionando para a página de login."),window.location.href="login.html";else{const e=document.getElementById("name"),o=document.getElementById("email"),t=document.getElementById("genero"),i=document.getElementById("idioma"),a=document.getElementById("plano");console.log("Carregando..."),fetch(`${n}/modulo2/info`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`,uid:l}}).then((e=>{if(!e.ok)throw new Error("Network response was not ok "+e.statusText);return e.json()})).then((n=>{e.innerHTML=n.name,o.innerHTML=n.email,t.innerHTML=n.genero,i.innerHTML=n.idioma,a.innerHTML=n.permision,a.classList.add("link"),a.addEventListener("click",(function(){window.location.href="plano.html"}))})).catch((e=>{console.error("There has been a problem with your fetch operation:",e),window.location.href="login.html"}))}